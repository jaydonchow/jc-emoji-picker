import*as e from"react";import t,{useRef as n,useEffect as r,useState as o,version as i,isValidElement as a,useLayoutEffect as c,forwardRef as l,useImperativeHandle as u,useMemo as s}from"react";import f,{createPortal as p,flushSync as d}from"react-dom";function v(e){const{gap:i,category:a,value:c,categoryNames:l,onChange:u}=e,[s,f]=o(0),[p,d]=o({}),[v,m]=o({});return function({selector:e,direction:t="vertical",factor:o=1}){const i=n({isDragging:!1,startX:0,startY:0,scrollLeft:0,scrollTop:0});r(()=>{const n="string"==typeof e?document.querySelector(e):e.current||e;if(!n)return;const r=e=>{i.current={isDragging:!0,startX:e.clientX,startY:e.clientY,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop},n.style.cursor="grabbing",n.style.userSelect="none"},o=e=>{if(!i.current.isDragging)return;const{startX:r,startY:o,scrollLeft:a,scrollTop:c}=i.current,l=e.clientX-r,u=e.clientY-o;"vertical"!==t&&(n.scrollLeft=a-l),"horizontal"!==t&&(n.scrollTop=c-u)},a=()=>{i.current.isDragging=!1,n.style.cursor="grab",n.style.userSelect=""};return n.addEventListener("mousedown",r),document.addEventListener("mousemove",o),document.addEventListener("mouseup",a),()=>{n.removeEventListener("mousedown",r),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",a)}},[e,t])}({selector:".emoji_category_swiper",direction:"all"}),r(()=>{let e=0;const t=parseInt(i),n=document.querySelector(".emoji_category_container");n&&([...n.children].forEach(t=>{e+=t.clientWidth}),e+=t*n.children.length-1,f(e))},[v,i]),r(()=>{const e=a.reduce((e,t,n)=>Object.assign(e,{[t]:l[n]||a}),{});m(e)},[a,l]),r(()=>{let e={};if(c){const t=a.findIndex(e=>e===c),n=document.querySelector(".emoji_category_container");if(n){const r=n.children[t];e={width:r.clientWidth,height:r.clientHeight,transform:`translateX(${r.offsetLeft}px)`}}}d(e)},[c,v]),t.createElement("div",{className:"emoji_category_swiper"},t.createElement("div",{className:"emoji_category_container",style:{width:s}},a.map(e=>t.createElement("div",{key:e,className:"emoji_category_item "+(c===e?"category_item_active":""),onClick:()=>{console.time("tab-change"),u(e)}},v[e]))),t.createElement("div",{className:"emoji_sliding_block",style:p}))}function m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h,g={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var y,b=(h||(h=1,y=g,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=r(e,n(o)))}return e}function n(n){if("string"==typeof n||"number"==typeof n)return n;if("object"!=typeof n)return"";if(Array.isArray(n))return t.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var o="";for(var i in n)e.call(n,i)&&n[i]&&(o=r(o,i));return o}function r(e,t){return t?e?e+" "+t:e+t:e}y.exports?(t.default=t,y.exports=t):window.classNames=t}()),g.exports),w=m(b);function E(t){var n=t.children,r=t.prefixCls,o=t.id,i=t.overlayInnerStyle,a=t.bodyClassName,c=t.className,l=t.style;return e.createElement("div",{className:w("".concat(r,"-content"),c),style:l},e.createElement("div",{className:w("".concat(r,"-inner"),a),id:o,role:"tooltip",style:i},"function"==typeof n?n():n))}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(null,arguments)}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function S(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}function M(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){if(e){if("string"==typeof e)return N(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var P={},T=[];function A(e,t){if("production"!==process.env.NODE_ENV&&!e&&void 0!==console){var n=T.reduce(function(e,t){return t(null!=e?e:"","warning")},t);n&&console.error("Warning: ".concat(n))}}function z(e,t){if("production"!==process.env.NODE_ENV&&!e&&void 0!==console){var n=T.reduce(function(e,t){return t(null!=e?e:"","note")},t);n&&console.warn("Note: ".concat(n))}}function D(e,t,n){t||P[n]||(e(!1,n),P[n]=!0)}function H(e,t){D(A,e,t)}H.preMessage=function(e){T.push(e)},H.resetWarned=function(){P={}},H.noteOnce=function(e,t){D(z,e,t)};var V,B={exports:{}},I={};var $,W,Y={};
/**
 * @license React
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X=(W||(W=1,"production"===process.env.NODE_ENV?B.exports=function(){if(V)return I;V=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function m(e){if("object"==typeof e&&null!==e){var v=e.$$typeof;switch(v){case t:switch(e=e.type){case r:case i:case o:case s:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case u:case d:case p:case a:return e;default:return v}}case n:return v}}}return e=Symbol.for("react.module.reference"),I.ContextConsumer=c,I.ContextProvider=a,I.Element=t,I.ForwardRef=u,I.Fragment=r,I.Lazy=d,I.Memo=p,I.Portal=n,I.Profiler=i,I.StrictMode=o,I.Suspense=s,I.SuspenseList=f,I.isAsyncMode=function(){return!1},I.isConcurrentMode=function(){return!1},I.isContextConsumer=function(e){return m(e)===c},I.isContextProvider=function(e){return m(e)===a},I.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},I.isForwardRef=function(e){return m(e)===u},I.isFragment=function(e){return m(e)===r},I.isLazy=function(e){return m(e)===d},I.isMemo=function(e){return m(e)===p},I.isPortal=function(e){return m(e)===n},I.isProfiler=function(e){return m(e)===i},I.isStrictMode=function(e){return m(e)===o},I.isSuspense=function(e){return m(e)===s},I.isSuspenseList=function(e){return m(e)===f},I.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===i||t===o||t===s||t===f||t===v||"object"==typeof t&&null!==t&&(t.$$typeof===d||t.$$typeof===p||t.$$typeof===a||t.$$typeof===c||t.$$typeof===u||t.$$typeof===e||void 0!==t.getModuleId)},I.typeOf=m,I}():B.exports=($||($=1,"production"!==process.env.NODE_ENV&&function(){var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function m(e){if("object"==typeof e&&null!==e){var v=e.$$typeof;switch(v){case t:var m=e.type;switch(m){case r:case i:case o:case s:case f:return m;default:var h=m&&m.$$typeof;switch(h){case l:case c:case u:case d:case p:case a:return h;default:return v}}case n:return v}}}e=Symbol.for("react.module.reference");var h=c,g=a,y=t,b=u,w=r,E=d,x=p,_=n,S=i,M=o,C=s,k=f,O=!1,N=!1;Y.ContextConsumer=h,Y.ContextProvider=g,Y.Element=y,Y.ForwardRef=b,Y.Fragment=w,Y.Lazy=E,Y.Memo=x,Y.Portal=_,Y.Profiler=S,Y.StrictMode=M,Y.Suspense=C,Y.SuspenseList=k,Y.isAsyncMode=function(e){return O||(O=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1},Y.isConcurrentMode=function(e){return N||(N=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1},Y.isContextConsumer=function(e){return m(e)===c},Y.isContextProvider=function(e){return m(e)===a},Y.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},Y.isForwardRef=function(e){return m(e)===u},Y.isFragment=function(e){return m(e)===r},Y.isLazy=function(e){return m(e)===d},Y.isMemo=function(e){return m(e)===p},Y.isPortal=function(e){return m(e)===n},Y.isProfiler=function(e){return m(e)===i},Y.isStrictMode=function(e){return m(e)===o},Y.isSuspense=function(e){return m(e)===s},Y.isSuspenseList=function(e){return m(e)===f},Y.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===i||t===o||t===s||t===f||t===v||"object"==typeof t&&null!==t&&(t.$$typeof===d||t.$$typeof===p||t.$$typeof===a||t.$$typeof===c||t.$$typeof===u||t.$$typeof===e||void 0!==t.getModuleId)},Y.typeOf=m}()),Y)),B.exports);var F=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),K=Symbol.for("react.fragment");function G(e){return e&&"object"===_(e)&&(e.$$typeof===F||e.$$typeof===q)&&e.type===K}var Z=Number(i.split(".")[0]),J=function(e,t){"function"==typeof e?e(t):"object"===_(e)&&e&&"current"in e&&(e.current=t)},Q=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach(function(t){J(t,e)})}},U=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o=function(){return Q.apply(void 0,n)},i=n,a=function(e,t){return e.length!==t.length||e.every(function(e,n){return e!==t[n]})},"value"in(c=e.useRef({})).current&&!a(c.current.condition,i)||(c.current.value=o(),c.current.condition=i),c.current.value;var o,i,a,c},ee=function(e){var t,n;if(!e)return!1;if(te(e)&&Z>=19)return!0;var r=X.isMemo(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===X.ForwardRef)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===X.ForwardRef)};function te(e){return a(e)&&!G(e)}var ne=function(e){if(e&&te(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null},re=e.createContext(null);function oe(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ie="test"!==process.env.NODE_ENV&&L()?e.useLayoutEffect:e.useEffect,ae=function(t,n){var r=e.useRef(!0);ie(function(){return t(r.current)},n),ie(function(){return r.current=!1,function(){r.current=!0}},[])},ce=[];var le="data-rc-order",ue="data-rc-priority",se=new Map;function fe(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function pe(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function de(e){return Array.from((se.get(e)||e).children).filter(function(e){return"STYLE"===e.tagName})}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!L())return null;var n=t.csp,r=t.prepend,o=t.priority,i=void 0===o?0:o,a=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),c="prependQueue"===a,l=document.createElement("style");l.setAttribute(le,a),c&&i&&l.setAttribute(ue,"".concat(i)),null!=n&&n.nonce&&(l.nonce=null==n?void 0:n.nonce),l.innerHTML=e;var u=pe(t),s=u.firstChild;if(r){if(c){var f=(t.styles||de(u)).filter(function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(le)))return!1;var t=Number(e.getAttribute(ue)||0);return i>=t});if(f.length)return u.insertBefore(l,f[f.length-1].nextSibling),l}u.insertBefore(l,s)}else u.appendChild(l);return l}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=pe(t);return(t.styles||de(n)).find(function(n){return n.getAttribute(fe(t))===e})}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=me(e,t);n&&pe(t).removeChild(n)}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=pe(n),o=de(r),i=k(k({},n),{},{styles:o});!function(e,t){var n=se.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=ve("",t),o=r.parentNode;se.set(e,o),e.removeChild(r)}}(r,i);var a=me(t,i);if(a){var c,l,u;if(null!==(c=i.csp)&&void 0!==c&&c.nonce&&a.nonce!==(null===(l=i.csp)||void 0===l?void 0:l.nonce))a.nonce=null===(u=i.csp)||void 0===u?void 0:u.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var s=ve(e,i);return s.setAttribute(fe(i),t),s}function ye(e){return"undefined"!=typeof document&&e&&e instanceof Element?function(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,o,i=n.style;if(i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll",e){var a=getComputedStyle(e);i.scrollbarColor=a.scrollbarColor,i.scrollbarWidth=a.scrollbarWidth;var c=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(c.width,10),u=parseInt(c.height,10);try{var s=l?"width: ".concat(c.width,";"):"",f=u?"height: ".concat(c.height,";"):"";ge("\n#".concat(t,"::-webkit-scrollbar {\n").concat(s,"\n").concat(f,"\n}"),t)}catch(e){console.error(e),r=l,o=u}}document.body.appendChild(n);var p=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,d=e&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),he(t),{width:p,height:d}}(e):{width:0,height:0}}var be="rc-util-locker-".concat(Date.now()),we=0;function Ee(t){var n=!!t,r=R(e.useState(function(){return we+=1,"".concat(be,"_").concat(we)}),1)[0];ae(function(){if(n){var e=ye(document.body).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;ge("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else he(r);return function(){he(r)}},[n,r])}var xe=!1;var _e=function(e){return!1!==e&&(L()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},Se=e.forwardRef(function(t,n){var r=t.open,o=t.autoLock,i=t.getContainer,a=t.debug,c=t.autoDestroy,l=void 0===c||c,u=t.children,s=R(e.useState(r),2),f=s[0],d=s[1],v=f||r;"production"!==process.env.NODE_ENV&&H(L()||!r,"Portal only work in client side. Please call 'useEffect' to show Portal instead default render in SSR."),e.useEffect(function(){(l||r)&&d(r)},[r,l]);var m=R(e.useState(function(){return _e(i)}),2),h=m[0],g=m[1];e.useEffect(function(){var e=_e(i);g(null!=e?e:null)});var y=function(t,n){var r=R(e.useState(function(){if(!L())return null;var e=document.createElement("div");return"production"!==process.env.NODE_ENV&&n&&e.setAttribute("data-debug",n),e}),1)[0],o=e.useRef(!1),i=e.useContext(re),a=R(e.useState(ce),2),c=a[0],l=a[1],u=i||(o.current?void 0:function(e){l(function(t){return[e].concat(oe(t))})});function s(){r.parentElement||document.body.appendChild(r),o.current=!0}function f(){var e;null===(e=r.parentElement)||void 0===e||e.removeChild(r),o.current=!1}return ae(function(){return t?i?i(s):s():f(),f},[t]),ae(function(){c.length&&(c.forEach(function(e){return e()}),l(ce))},[c]),[r,u]}(v&&!h,a),b=R(y,2),w=b[0],E=b[1],x=null!=h?h:w;Ee(o&&r&&L()&&(x===w||x===document.body));var _=null;u&&ee(u)&&n&&(_=u.ref);var S=U(_,n);if(!v||!L()||void 0===h)return null;var M,C=!1===x||("boolean"==typeof M&&(xe=M),xe),k=u;return n&&(k=e.cloneElement(u,{ref:S})),e.createElement(re.Provider,{value:E},C?k:p(k,x))});function Me(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t.Children.forEach(e,function(e){(null!=e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(Me(e)):G(e)&&e.props?r=r.concat(Me(e.props.children,n)):r.push(e))}),r}function Ce(e){return e instanceof HTMLElement||e instanceof SVGElement}function ke(e){var n,r=function(e){return e&&"object"===_(e)&&Ce(e.nativeElement)?e.nativeElement:Ce(e)?e:null}(e);return r||(e instanceof t.Component?null===(n=f.findDOMNode)||void 0===n?void 0:n.call(f,e):null)}"production"!==process.env.NODE_ENV&&(Se.displayName="Portal");var Oe=e.createContext(null);var Ne=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),je="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Re="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Le="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Re):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)};var Pe=["top","right","bottom","left","width","height","size","weight"],Te="undefined"!=typeof MutationObserver,Ae=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&c()}function a(){Le(i)}function c(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){je&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Te?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){je&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Pe.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),ze=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},De=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Re},He=Ye(0,0,0,0);function Ve(e){return parseFloat(e)||0}function Be(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+Ve(e["border-"+n+"-width"])},0)}function Ie(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return He;var r=De(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=Ve(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,c=Ve(r.width),l=Ve(r.height);if("border-box"===r.boxSizing&&(Math.round(c+i)!==t&&(c-=Be(r,"left","right")+i),Math.round(l+a)!==n&&(l-=Be(r,"top","bottom")+a)),!function(e){return e===De(e).document.documentElement}(e)){var u=Math.round(c+i)-t,s=Math.round(l+a)-n;1!==Math.abs(u)&&(c-=u),1!==Math.abs(s)&&(l-=s)}return Ye(o.left,o.top,c,l)}var $e="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof De(e).SVGGraphicsElement}:function(e){return e instanceof De(e).SVGElement&&"function"==typeof e.getBBox};function We(e){return je?$e(e)?function(e){var t=e.getBBox();return Ye(0,0,t.width,t.height)}(e):Ie(e):He}function Ye(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Xe=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ye(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=We(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Fe=function(e,t){var n,r,o,i,a,c,l,u=(r=(n=t).x,o=n.y,i=n.width,a=n.height,c="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(c.prototype),ze(l,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),l);ze(this,{target:e,contentRect:u})},qe=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Ne,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof De(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Xe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof De(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new Fe(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Ke="undefined"!=typeof WeakMap?new WeakMap:new Ne,Ge=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ae.getInstance(),r=new qe(t,n,this);Ke.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){Ge.prototype[e]=function(){var t;return(t=Ke.get(this))[e].apply(t,arguments)}});var Ze=void 0!==Re.ResizeObserver?Re.ResizeObserver:Ge,Je=new Map;function Qe(e){e.forEach(function(e){var t,n=e.target;null===(t=Je.get(n))||void 0===t||t.forEach(function(e){return e(n)})})}var Ue=new Ze(Qe);function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function nt(e,t,n){return t&&tt(e.prototype,t),n&&tt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rt(e,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rt(e,t)}function ot(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}function it(e){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},it(e)}function at(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(at=function(){return!!e})()}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lt(e){var t=at();return function(){var n,r=it(e);if(t){var o=it(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ct(e)}(this,n)}}process.env.NODE_ENV,process.env.NODE_ENV;var ut=function(){ot(n,e.Component);var t=lt(n);function n(){return et(this,n),t.apply(this,arguments)}return nt(n,[{key:"render",value:function(){return this.props.children}}]),n}();function st(t,n){var r=t.children,o=t.disabled,i=e.useRef(null),a=e.useRef(null),c=e.useContext(Oe),l="function"==typeof r,u=l?r(i):r,s=e.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!l&&e.isValidElement(u)&&ee(u),p=f?ne(u):null,d=U(p,i),v=function(){var e;return ke(i.current)||(i.current&&"object"===_(i.current)?ke(null===(e=i.current)||void 0===e?void 0:e.nativeElement):null)||ke(a.current)};e.useImperativeHandle(n,function(){return v()});var m=e.useRef(t);m.current=t;var h=e.useCallback(function(e){var t=m.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),i=o.width,a=o.height,l=e.offsetWidth,u=e.offsetHeight,f=Math.floor(i),p=Math.floor(a);if(s.current.width!==f||s.current.height!==p||s.current.offsetWidth!==l||s.current.offsetHeight!==u){var d={width:f,height:p,offsetWidth:l,offsetHeight:u};s.current=d;var v=l===Math.round(i)?i:l,h=u===Math.round(a)?a:u,g=k(k({},d),{},{offsetWidth:v,offsetHeight:h});null==c||c(g,e,r),n&&Promise.resolve().then(function(){n(g,e)})}},[]);return e.useEffect(function(){var e,t,n=v();return n&&!o&&(e=n,t=h,Je.has(e)||(Je.set(e,new Set),Ue.observe(e)),Je.get(e).add(t)),function(){return function(e,t){Je.has(e)&&(Je.get(e).delete(t),Je.get(e).size||(Ue.unobserve(e),Je.delete(e)))}(n,h)}},[i.current,o]),e.createElement(ut,{ref:a},f?e.cloneElement(u,{ref:d}):u)}var ft=e.forwardRef(st);"production"!==process.env.NODE_ENV&&(ft.displayName="SingleObserver");function pt(t,n){var r=t.children,o="function"==typeof r?[r]:Me(r);return"production"!==process.env.NODE_ENV&&(o.length>1?A(!1,"Find more than one child node with `children` in ResizeObserver. Please use ResizeObserver.Collection instead."):0===o.length&&A(!1,"`children` of ResizeObserver is empty. Nothing is in observe.")),o.map(function(r,o){var i=(null==r?void 0:r.key)||"".concat("rc-observer-key","-").concat(o);return e.createElement(ft,x({},t,{key:i,ref:0===o?n:void 0}),r)})}var dt=e.forwardRef(pt);function vt(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function mt(e){return function(e){return vt(e)instanceof ShadowRoot}(e)?vt(e):null}function ht(t){var n=e.useRef();n.current=t;var r=e.useCallback(function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))},[]);return r}"production"!==process.env.NODE_ENV&&(dt.displayName="ResizeObserver"),dt.Collection=function(t){var n=t.children,r=t.onBatchResize,o=e.useRef(0),i=e.useRef([]),a=e.useContext(Oe),c=e.useCallback(function(e,t,n){o.current+=1;var c=o.current;i.current.push({size:e,element:t,data:n}),Promise.resolve().then(function(){c===o.current&&(null==r||r(i.current),i.current=[])}),null==a||a(e,t,n)},[r,a]);return e.createElement(Oe.Provider,{value:c},n)};var gt=0,yt=k({},e).useId,bt=yt?function(e){var t=yt();return e||("test"===process.env.NODE_ENV?"test-id":t)}:function(t){var n=R(e.useState("ssr-id"),2),r=n[0],o=n[1];return e.useEffect(function(){var e=gt;gt+=1,o("rc_unique_".concat(e))},[]),t||("test"===process.env.NODE_ENV?"test-id":r)},wt=e.createContext({}),Et=function(){ot(n,e.Component);var t=lt(n);function n(){return et(this,n),t.apply(this,arguments)}return nt(n,[{key:"render",value:function(){return this.props.children}}]),n}();function xt(t){var n=e.useRef(!1),r=R(e.useState(t),2),o=r[0],i=r[1];return e.useEffect(function(){return n.current=!1,function(){n.current=!0}},[]),[o,function(e,t){t&&n.current||i(e)}]}var _t="none",St="appear",Mt="enter",Ct="leave",kt="none",Ot="prepare",Nt="start",jt="active",Rt="end",Lt="prepared";function Pt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Tt,At,zt,Dt=(Tt=L(),At="undefined"!=typeof window?window:{},zt={animationend:Pt("Animation","AnimationEnd"),transitionend:Pt("Transition","TransitionEnd")},Tt&&("AnimationEvent"in At||delete zt.animationend.animation,"TransitionEvent"in At||delete zt.transitionend.transition),zt),Ht={};if(L()){var Vt=document.createElement("div");Ht=Vt.style}var Bt={};function It(e){if(Bt[e])return Bt[e];var t=Dt[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in Ht)return Bt[e]=t[i],Bt[e]}return""}var $t=It("animationend"),Wt=It("transitionend"),Yt=!(!$t||!Wt),Xt=$t||"animationend",Ft=Wt||"transitionend";function qt(e,t){return e?"object"===_(e)?e[t.replace(/-\w/g,function(e){return e[1].toUpperCase()})]:"".concat(e,"-").concat(t):null}var Kt=L()?c:r,Gt=function(e){return+setTimeout(e,16)},Zt=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(Gt=function(e){return window.requestAnimationFrame(e)},Zt=function(e){return window.cancelAnimationFrame(e)});var Jt=0,Qt=new Map;function Ut(e){Qt.delete(e)}var en=function(e){var t=Jt+=1;return function n(r){if(0===r)Ut(t),e();else{var o=Gt(function(){n(r-1)});Qt.set(t,o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};en.cancel=function(e){var t=Qt.get(e);return Ut(e),Zt(t)},"production"!==process.env.NODE_ENV&&(en.ids=function(){return Qt});var tn=[Ot,Nt,jt,Rt],nn=[Ot,Lt],rn=!1;function on(e){return e===jt||e===Rt}var an=function(t,n,r){var o=R(xt(kt),2),i=o[0],a=o[1],c=function(){var t=e.useRef(null);function n(){en.cancel(t.current)}return e.useEffect(function(){return function(){n()}},[]),[function e(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var i=en(function(){o<=1?r({isCanceled:function(){return i!==t.current}}):e(r,o-1)});t.current=i},n]}(),l=R(c,2),u=l[0],s=l[1];var f=n?nn:tn;return Kt(function(){if(i!==kt&&i!==Rt){var e=f.indexOf(i),t=f[e+1],n=r(i);n===rn?a(t,!0):t&&u(function(e){function r(){e.isCanceled()||a(t,!0)}!0===n?r():Promise.resolve(n).then(r)})}},[t,i]),e.useEffect(function(){return function(){s()}},[]),[function(){a(Ot,!0)},i]};function cn(t,o,i,a){var c,l,u,s=a.motionEnter,f=void 0===s||s,p=a.motionAppear,d=void 0===p||p,v=a.motionLeave,m=void 0===v||v,h=a.motionDeadline,g=a.motionLeaveImmediately,y=a.onAppearPrepare,b=a.onEnterPrepare,w=a.onLeavePrepare,E=a.onAppearStart,x=a.onEnterStart,_=a.onLeaveStart,S=a.onAppearActive,C=a.onEnterActive,O=a.onLeaveActive,N=a.onAppearEnd,j=a.onEnterEnd,L=a.onLeaveEnd,P=a.onVisibleChanged,T=R(xt(),2),A=T[0],z=T[1],D=(c=_t,l=R(e.useReducer(function(e){return e+1},0),2)[1],u=e.useRef(c),[ht(function(){return u.current}),ht(function(e){u.current="function"==typeof e?e(u.current):e,l()})]),H=R(D,2),V=H[0],B=H[1],I=R(xt(null),2),$=I[0],W=I[1],Y=V(),X=n(!1),F=n(null);function q(){return i()}var K=n(!1);function G(){B(_t),W(null,!0)}var Z=ht(function(e){var t=V();if(t!==_t){var n=q();if(!e||e.deadline||e.target===n){var r,o=K.current;t===St&&o?r=null==N?void 0:N(n,e):t===Mt&&o?r=null==j?void 0:j(n,e):t===Ct&&o&&(r=null==L?void 0:L(n,e)),o&&!1!==r&&G()}}}),J=function(t){var r=n();function o(e){e&&(e.removeEventListener(Ft,t),e.removeEventListener(Xt,t))}return e.useEffect(function(){return function(){o(r.current)}},[]),[function(e){r.current&&r.current!==e&&o(r.current),e&&e!==r.current&&(e.addEventListener(Ft,t),e.addEventListener(Xt,t),r.current=e)},o]}(Z),Q=R(J,1)[0],U=function(e){switch(e){case St:return M(M(M({},Ot,y),Nt,E),jt,S);case Mt:return M(M(M({},Ot,b),Nt,x),jt,C);case Ct:return M(M(M({},Ot,w),Nt,_),jt,O);default:return{}}},ee=e.useMemo(function(){return U(Y)},[Y]),te=R(an(Y,!t,function(e){if(e===Ot){var t=ee[Ot];return t?t(q()):rn}var n;re in ee&&W((null===(n=ee[re])||void 0===n?void 0:n.call(ee,q(),null))||null);return re===jt&&Y!==_t&&(Q(q()),h>0&&(clearTimeout(F.current),F.current=setTimeout(function(){Z({deadline:!0})},h))),re===Lt&&G(),true}),2),ne=te[0],re=te[1],oe=on(re);K.current=oe;var ie=n(null);Kt(function(){if(!X.current||ie.current!==o){z(o);var e,n=X.current;X.current=!0,!n&&o&&d&&(e=St),n&&o&&f&&(e=Mt),(n&&!o&&m||!n&&g&&!o&&m)&&(e=Ct);var r=U(e);e&&(t||r[Ot])?(B(e),ne()):B(_t),ie.current=o}},[o]),r(function(){(Y===St&&!d||Y===Mt&&!f||Y===Ct&&!m)&&B(_t)},[d,f,m]),r(function(){return function(){X.current=!1,clearTimeout(F.current)}},[]);var ae=e.useRef(!1);r(function(){A&&(ae.current=!0),void 0!==A&&Y===_t&&((ae.current||A)&&(null==P||P(A)),ae.current=!0)},[A,Y]);var ce=$;return ee[Ot]&&re===Nt&&(ce=k({transition:"none"},ce)),[Y,re,ce,null!=A?A:o]}var ln=function(t){var r=t;"object"===_(t)&&(r=t.transitionSupport);var o=e.forwardRef(function(t,o){var i=t.visible,a=void 0===i||i,c=t.removeOnLeave,l=void 0===c||c,u=t.forceRender,s=t.children,f=t.motionName,p=t.leavedClassName,d=t.eventProps,v=function(e,t){return!(!e.motionName||!r||!1===t)}(t,e.useContext(wt).motion),m=n(),h=n();var g=R(cn(v,a,function(){try{return m.current instanceof HTMLElement?m.current:ke(h.current)}catch(e){return null}},t),4),y=g[0],b=g[1],E=g[2],x=g[3],_=e.useRef(x);x&&(_.current=!0);var S,C=e.useCallback(function(e){m.current=e,J(o,e)},[o]),O=k(k({},d),{},{visible:a});if(s)if(y===_t)S=x?s(k({},O),C):!l&&_.current&&p?s(k(k({},O),{},{className:p}),C):u||!l&&!p?s(k(k({},O),{},{style:{display:"none"}}),C):null;else{var N;b===Ot?N="prepare":on(b)?N="active":b===Nt&&(N="start");var j=qt(f,"".concat(y,"-").concat(N));S=s(k(k({},O),{},{className:w(qt(f,y),M(M({},j,j&&N),f,"string"==typeof f)),style:E}),C)}else S=null;e.isValidElement(S)&&ee(S)&&(ne(S)||(S=e.cloneElement(S,{ref:C})));return e.createElement(Et,{ref:h},S)});return o.displayName="CSSMotion",o}(Yt),un="add",sn="keep",fn="remove",pn="removed";function dn(e){var t;return k(k({},t=e&&"object"===_(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function vn(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(dn)}var mn=["component","children","onVisibleChanged","onAllRemoved"],hn=["status"],gn=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function yn(t){var n=t.prefixCls,r=t.align,o=t.arrow,i=t.arrowPos,a=o||{},c=a.className,l=a.content,u=i.x,s=void 0===u?0:u,f=i.y,p=void 0===f?0:f,d=e.useRef();if(!r||!r.points)return null;var v={position:"absolute"};if(!1!==r.autoArrow){var m=r.points[0],h=r.points[1],g=m[0],y=m[1],b=h[0],E=h[1];g!==b&&["t","b"].includes(g)?"t"===g?v.top=0:v.bottom=0:v.top=p,y!==E&&["l","r"].includes(y)?"l"===y?v.left=0:v.right=0:v.left=s}return e.createElement("div",{ref:d,className:w("".concat(n,"-arrow"),c),style:v},l)}function bn(t){var n=t.prefixCls,r=t.open,o=t.zIndex,i=t.mask,a=t.motion;return i?e.createElement(ln,x({},a,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(t){var r=t.className;return e.createElement("div",{style:{zIndex:o},className:w("".concat(n,"-mask"),r)})}):null}!function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ln,r=function(){ot(r,e.Component);var t=lt(r);function r(){var e;et(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return M(ct(e=t.call.apply(t,[this].concat(o))),"state",{keyEntities:[]}),M(ct(e),"removeKey",function(t){e.setState(function(e){return{keyEntities:e.keyEntities.map(function(e){return e.key!==t?e:k(k({},e),{},{status:pn})})}},function(){0===e.state.keyEntities.filter(function(e){return e.status!==pn}).length&&e.props.onAllRemoved&&e.props.onAllRemoved()})}),e}return nt(r,[{key:"render",value:function(){var t=this,r=this.state.keyEntities,o=this.props,i=o.component,a=o.children,c=o.onVisibleChanged;o.onAllRemoved;var l=O(o,mn),u=i||e.Fragment,s={};return gn.forEach(function(e){s[e]=l[e],delete l[e]}),delete l.keys,e.createElement(u,l,r.map(function(r,o){var i=r.status,l=O(r,hn),u=i===un||i===sn;return e.createElement(n,x({},s,{key:l.key,visible:u,eventProps:l,onVisibleChanged:function(e){null==c||c(e,{key:l.key}),e||t.removeKey(l.key)}}),function(e,t){return a(k(k({},e),{},{index:o}),t)})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,o=vn(n),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,o=t.length,i=vn(e),a=vn(t);i.forEach(function(e){for(var t=!1,i=r;i<o;i+=1){var c=a[i];if(c.key===e.key){r<i&&(n=n.concat(a.slice(r,i).map(function(e){return k(k({},e),{},{status:un})})),r=i),n.push(k(k({},c),{},{status:sn})),r+=1,t=!0;break}}t||n.push(k(k({},e),{},{status:fn}))}),r<o&&(n=n.concat(a.slice(r).map(function(e){return k(k({},e),{},{status:un})})));var c={};return n.forEach(function(e){var t=e.key;c[t]=(c[t]||0)+1}),Object.keys(c).filter(function(e){return c[e]>1}).forEach(function(e){(n=n.filter(function(t){var n=t.key,r=t.status;return n!==e||r!==fn})).forEach(function(t){t.key===e&&(t.status=sn)})}),n}(r,o);return{keyEntities:i.filter(function(e){var t=r.find(function(t){var n=t.key;return e.key===n});return!t||t.status!==pn||e.status!==fn})}}}]),r}();M(r,"defaultProps",{component:"div"})}(Yt);var wn=e.memo(function(e){return e.children},function(e,t){return t.cache});"production"!==process.env.NODE_ENV&&(wn.displayName="PopupContent");var En=e.forwardRef(function(t,n){var r=t.popup,o=t.className,i=t.prefixCls,a=t.style,c=t.target,l=t.onVisibleChanged,u=t.open,s=t.keepDom,f=t.fresh,p=t.onClick,d=t.mask,v=t.arrow,m=t.arrowPos,h=t.align,g=t.motion,y=t.maskMotion,b=t.forceRender,E=t.getPopupContainer,_=t.autoDestroy,S=t.portal,M=t.zIndex,C=t.onMouseEnter,O=t.onMouseLeave,N=t.onPointerEnter,j=t.onPointerDownCapture,L=t.ready,P=t.offsetX,T=t.offsetY,A=t.offsetR,z=t.offsetB,D=t.onAlign,H=t.onPrepare,V=t.stretch,B=t.targetWidth,I=t.targetHeight,$="function"==typeof r?r():r,W=u||s,Y=(null==E?void 0:E.length)>0,X=R(e.useState(!E||!Y),2),F=X[0],q=X[1];if(ae(function(){!F&&Y&&c&&q(!0)},[F,Y,c]),!F)return null;var K="auto",G={left:"-1000vw",top:"-1000vh",right:K,bottom:K};if(L||!u){var Z,J=h.points,U=h.dynamicInset||(null===(Z=h._experimental)||void 0===Z?void 0:Z.dynamicInset),ee=U&&"r"===J[0][1],te=U&&"b"===J[0][0];ee?(G.right=A,G.left=K):(G.left=P,G.right=K),te?(G.bottom=z,G.top=K):(G.top=T,G.bottom=K)}var ne={};return V&&(V.includes("height")&&I?ne.height=I:V.includes("minHeight")&&I&&(ne.minHeight=I),V.includes("width")&&B?ne.width=B:V.includes("minWidth")&&B&&(ne.minWidth=B)),u||(ne.pointerEvents="none"),e.createElement(S,{open:b||W,getContainer:E&&function(){return E(c)},autoDestroy:_},e.createElement(bn,{prefixCls:i,open:u,zIndex:M,mask:d,motion:y}),e.createElement(dt,{onResize:D,disabled:!u},function(t){return e.createElement(ln,x({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(i,"-hidden")},g,{onAppearPrepare:H,onEnterPrepare:H,visible:u,onVisibleChanged:function(e){var t;null==g||null===(t=g.onVisibleChanged)||void 0===t||t.call(g,e),l(e)}}),function(r,c){var l=r.className,s=r.style,d=w(i,l,o);return e.createElement("div",{ref:Q(t,n,c),className:d,style:k(k(k(k({"--arrow-x":"".concat(m.x||0,"px"),"--arrow-y":"".concat(m.y||0,"px")},G),ne),s),{},{boxSizing:"border-box",zIndex:M},a),onMouseEnter:C,onMouseLeave:O,onPointerEnter:N,onClick:p,onPointerDownCapture:j},v&&e.createElement(yn,{prefixCls:i,arrow:v,arrowPos:m,align:h}),e.createElement(wn,{cache:!u&&!f},$))})}))});"production"!==process.env.NODE_ENV&&(En.displayName="Popup");var xn=e.forwardRef(function(t,n){var r=t.children,o=t.getTriggerDOMNode,i=ee(r),a=e.useCallback(function(e){J(n,o?o(e):e)},[o]),c=U(a,ne(r));return i?e.cloneElement(r,{ref:c}):r});"production"!==process.env.NODE_ENV&&(xn.displayName="TriggerWrapper");var _n=e.createContext(null);function Sn(e){return e?Array.isArray(e)?e:[e]:[]}function Mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Cn(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function kn(e){return e.ownerDocument.defaultView}function On(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=kn(n).getComputedStyle(n);[o.overflowX,o.overflowY,o.overflow].some(function(e){return r.includes(e)})&&t.push(n),n=n.parentElement}return t}function Nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function jn(e){return Nn(parseFloat(e),0)}function Rn(e,t){var n=k({},e);return(t||[]).forEach(function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=kn(e).getComputedStyle(e),r=t.overflow,o=t.overflowClipMargin,i=t.borderTopWidth,a=t.borderBottomWidth,c=t.borderLeftWidth,l=t.borderRightWidth,u=e.getBoundingClientRect(),s=e.offsetHeight,f=e.clientHeight,p=e.offsetWidth,d=e.clientWidth,v=jn(i),m=jn(a),h=jn(c),g=jn(l),y=Nn(Math.round(u.width/p*1e3)/1e3),b=Nn(Math.round(u.height/s*1e3)/1e3),w=(p-d-h-g)*y,E=(s-f-v-m)*b,x=v*b,_=m*b,S=h*y,M=g*y,C=0,k=0;if("clip"===r){var O=jn(o);C=O*y,k=O*b}var N=u.x+S-C,j=u.y+x-k,R=N+u.width+2*C-S-M-w,L=j+u.height+2*k-x-_-E;n.left=Math.max(n.left,N),n.top=Math.max(n.top,j),n.right=Math.min(n.right,R),n.bottom=Math.min(n.bottom,L)}}),n}function Ln(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Pn(e,t){var n=R(t||[],2),r=n[0],o=n[1];return[Ln(e.width,r),Ln(e.height,o)]}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function An(e,t){var n,r=t[0],o=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===o?e.x:"r"===o?e.x+e.width:e.x+e.width/2,y:n}}function zn(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(e,r){return r===t?n[e]||"c":e}).join("")}function Dn(t,n,r,o,i,a,c){var l=R(e.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[o]||{}}),2),u=l[0],s=l[1],f=e.useRef(0),p=e.useMemo(function(){return n?On(n):[]},[n]),d=e.useRef({});t||(d.current={});var v=ht(function(){if(n&&r&&t){var e,l,u,f,v,m=n,h=m.ownerDocument,g=kn(m),y=g.getComputedStyle(m).position,b=m.style.left,w=m.style.top,E=m.style.right,x=m.style.bottom,_=m.style.overflow,S=k(k({},i[o]),a),M=h.createElement("div");if(null===(e=m.parentElement)||void 0===e||e.appendChild(M),M.style.left="".concat(m.offsetLeft,"px"),M.style.top="".concat(m.offsetTop,"px"),M.style.position=y,M.style.height="".concat(m.offsetHeight,"px"),M.style.width="".concat(m.offsetWidth,"px"),m.style.left="0",m.style.top="0",m.style.right="auto",m.style.bottom="auto",m.style.overflow="hidden",Array.isArray(r))v={x:r[0],y:r[1],width:0,height:0};else{var C,O,N=r.getBoundingClientRect();N.x=null!==(C=N.x)&&void 0!==C?C:N.left,N.y=null!==(O=N.y)&&void 0!==O?O:N.top,v={x:N.x,y:N.y,width:N.width,height:N.height}}var j=m.getBoundingClientRect(),L=g.getComputedStyle(m),P=L.height,T=L.width;j.x=null!==(l=j.x)&&void 0!==l?l:j.left,j.y=null!==(u=j.y)&&void 0!==u?u:j.top;var A=h.documentElement,z=A.clientWidth,D=A.clientHeight,H=A.scrollWidth,V=A.scrollHeight,B=A.scrollTop,I=A.scrollLeft,$=j.height,W=j.width,Y=v.height,X=v.width,F={left:0,top:0,right:z,bottom:D},q={left:-I,top:-B,right:H-I,bottom:V-B},K=S.htmlRegion,G="visible",Z="visibleFirst";"scroll"!==K&&K!==Z&&(K=G);var J=K===Z,Q=Rn(q,p),U=Rn(F,p),ee=K===G?U:Q,te=J?U:ee;m.style.left="auto",m.style.top="auto",m.style.right="0",m.style.bottom="0";var ne=m.getBoundingClientRect();m.style.left=b,m.style.top=w,m.style.right=E,m.style.bottom=x,m.style.overflow=_,null===(f=m.parentElement)||void 0===f||f.removeChild(M);var re=Nn(Math.round(W/parseFloat(T)*1e3)/1e3),oe=Nn(Math.round($/parseFloat(P)*1e3)/1e3);if(0===re||0===oe||Ce(r)&&!function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),i=o.width,a=o.height;if(i||a)return!0}}return!1}(r))return;var ie=S.offset,ae=S.targetOffset,ce=R(Pn(j,ie),2),le=ce[0],ue=ce[1],se=R(Pn(v,ae),2),fe=se[0],pe=se[1];v.x-=fe,v.y-=pe;var de=R(S.points||[],2),ve=de[0],me=Tn(de[1]),he=Tn(ve),ge=An(v,me),ye=An(j,he),be=k({},S),we=ge.x-ye.x+le,Ee=ge.y-ye.y+ue;function mt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee,r=j.x+e,o=j.y+t,i=r+W,a=o+$,c=Math.max(r,n.left),l=Math.max(o,n.top),u=Math.min(i,n.right),s=Math.min(a,n.bottom);return Math.max(0,(u-c)*(s-l))}var xe,_e,Se,Me,ke=mt(we,Ee),Oe=mt(we,Ee,U),Ne=An(v,["t","l"]),je=An(j,["t","l"]),Re=An(v,["b","r"]),Le=An(j,["b","r"]),Pe=S.overflow||{},Te=Pe.adjustX,Ae=Pe.adjustY,ze=Pe.shiftX,De=Pe.shiftY,He=function(e){return"boolean"==typeof e?e:e>=0};function ht(){xe=j.y+Ee,_e=xe+$,Se=j.x+we,Me=Se+W}ht();var Ve=He(Ae),Be=he[0]===me[0];if(Ve&&"t"===he[0]&&(_e>te.bottom||d.current.bt)){var Ie=Ee;Be?Ie-=$-Y:Ie=Ne.y-Le.y-ue;var $e=mt(we,Ie),We=mt(we,Ie,U);$e>ke||$e===ke&&(!J||We>=Oe)?(d.current.bt=!0,Ee=Ie,ue=-ue,be.points=[zn(he,0),zn(me,0)]):d.current.bt=!1}if(Ve&&"b"===he[0]&&(xe<te.top||d.current.tb)){var Ye=Ee;Be?Ye+=$-Y:Ye=Re.y-je.y-ue;var Xe=mt(we,Ye),Fe=mt(we,Ye,U);Xe>ke||Xe===ke&&(!J||Fe>=Oe)?(d.current.tb=!0,Ee=Ye,ue=-ue,be.points=[zn(he,0),zn(me,0)]):d.current.tb=!1}var qe=He(Te),Ke=he[1]===me[1];if(qe&&"l"===he[1]&&(Me>te.right||d.current.rl)){var Ge=we;Ke?Ge-=W-X:Ge=Ne.x-Le.x-le;var Ze=mt(Ge,Ee),Je=mt(Ge,Ee,U);Ze>ke||Ze===ke&&(!J||Je>=Oe)?(d.current.rl=!0,we=Ge,le=-le,be.points=[zn(he,1),zn(me,1)]):d.current.rl=!1}if(qe&&"r"===he[1]&&(Se<te.left||d.current.lr)){var Qe=we;Ke?Qe+=W-X:Qe=Re.x-je.x-le;var Ue=mt(Qe,Ee),et=mt(Qe,Ee,U);Ue>ke||Ue===ke&&(!J||et>=Oe)?(d.current.lr=!0,we=Qe,le=-le,be.points=[zn(he,1),zn(me,1)]):d.current.lr=!1}ht();var tt=!0===ze?0:ze;"number"==typeof tt&&(Se<U.left&&(we-=Se-U.left-le,v.x+X<U.left+tt&&(we+=v.x-U.left+X-tt)),Me>U.right&&(we-=Me-U.right-le,v.x>U.right-tt&&(we+=v.x-U.right+tt)));var nt=!0===De?0:De;"number"==typeof nt&&(xe<U.top&&(Ee-=xe-U.top-ue,v.y+Y<U.top+nt&&(Ee+=v.y-U.top+Y-nt)),_e>U.bottom&&(Ee-=_e-U.bottom-ue,v.y>U.bottom-nt&&(Ee+=v.y-U.bottom+nt)));var rt=j.x+we,ot=rt+W,it=j.y+Ee,at=it+$,ct=v.x,lt=ct+X,ut=v.y,st=ut+Y,ft=(Math.max(rt,ct)+Math.min(ot,lt))/2-rt,pt=(Math.max(it,ut)+Math.min(at,st))/2-it;null==c||c(n,be);var dt=ne.right-j.x-(we+j.width),vt=ne.bottom-j.y-(Ee+j.height);1===re&&(we=Math.round(we),dt=Math.round(dt)),1===oe&&(Ee=Math.round(Ee),vt=Math.round(vt)),s({ready:!0,offsetX:we/re,offsetY:Ee/oe,offsetR:dt/re,offsetB:vt/oe,arrowX:ft/re,arrowY:pt/oe,scaleX:re,scaleY:oe,align:be})}}),m=function(){s(function(e){return k(k({},e),{},{ready:!1})})};return ae(m,[o]),ae(function(){t||m()},[t]),[u.ready,u.offsetX,u.offsetY,u.offsetR,u.offsetB,u.arrowX,u.arrowY,u.scaleX,u.scaleY,u.align,function(){f.current+=1;var e=f.current;Promise.resolve().then(function(){f.current===e&&v()})}]}var Hn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];var Vn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,n=e.forwardRef(function(n,r){var o=n.prefixCls,i=void 0===o?"rc-trigger-popup":o,a=n.children,c=n.action,l=void 0===c?"hover":c,u=n.showAction,s=n.hideAction,f=n.popupVisible,p=n.defaultPopupVisible,d=n.onPopupVisibleChange,v=n.afterPopupVisibleChange,m=n.mouseEnterDelay,h=n.mouseLeaveDelay,g=void 0===h?.1:h,y=n.focusDelay,b=n.blurDelay,E=n.mask,x=n.maskClosable,_=void 0===x||x,S=n.getPopupContainer,M=n.forceRender,C=n.autoDestroy,N=n.destroyPopupOnHide,j=n.popup,L=n.popupClassName,P=n.popupStyle,T=n.popupPlacement,z=n.builtinPlacements,D=void 0===z?{}:z,H=n.popupAlign,V=n.zIndex,B=n.stretch,I=n.getPopupClassNameFromAlign,$=n.fresh,W=n.alignPoint,Y=n.onPopupClick,X=n.onPopupAlign,F=n.arrow,q=n.popupMotion,K=n.maskMotion,G=n.popupTransitionName,Z=n.popupAnimation,J=n.maskTransitionName,Q=n.maskAnimation,U=n.className,ee=n.getTriggerDOMNode,te=O(n,Hn),ne=C||N||!1,re=R(e.useState(!1),2),ie=re[0],ce=re[1];ae(function(){ce(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))}())},[]);var le=e.useRef({}),ue=e.useContext(_n),se=e.useMemo(function(){return{registerSubPopup:function(e,t){le.current[e]=t,null==ue||ue.registerSubPopup(e,t)}}},[ue]),fe=bt(),pe=R(e.useState(null),2),de=pe[0],ve=pe[1],me=e.useRef(null),he=ht(function(e){me.current=e,Ce(e)&&de!==e&&ve(e),null==ue||ue.registerSubPopup(fe,e)}),ge=R(e.useState(null),2),ye=ge[0],be=ge[1],we=e.useRef(null),Ee=ht(function(e){Ce(e)&&ye!==e&&(be(e),we.current=e)}),xe=e.Children.only(a),_e=(null==xe?void 0:xe.props)||{},Se={},Me=ht(function(e){var t,n,r=ye;return(null==r?void 0:r.contains(e))||(null===(t=mt(r))||void 0===t?void 0:t.host)===e||e===r||(null==de?void 0:de.contains(e))||(null===(n=mt(de))||void 0===n?void 0:n.host)===e||e===de||Object.values(le.current).some(function(t){return(null==t?void 0:t.contains(e))||e===t})}),ke=Cn(i,q,Z,G),Oe=Cn(i,K,Q,J),Ne=R(e.useState(p||!1),2),je=Ne[0],Re=Ne[1],Le=null!=f?f:je,Pe=ht(function(e){void 0===f&&Re(e)});ae(function(){Re(f||!1)},[f]);var Te=e.useRef(Le);Te.current=Le;var Ae=e.useRef([]);Ae.current=[];var ze=ht(function(e){var t;Pe(e),(null!==(t=Ae.current[Ae.current.length-1])&&void 0!==t?t:Le)!==e&&(Ae.current.push(e),null==d||d(e))}),De=e.useRef(),He=function(){clearTimeout(De.current)},Ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;He(),0===t?ze(e):De.current=setTimeout(function(){ze(e)},1e3*t)};e.useEffect(function(){return He},[]);var Be=R(e.useState(!1),2),Ie=Be[0],$e=Be[1];ae(function(e){e&&!Le||$e(!0)},[Le]);var We=R(e.useState(null),2),Ye=We[0],Xe=We[1],Fe=R(e.useState(null),2),qe=Fe[0],Ke=Fe[1],Ge=function(e){Ke([e.clientX,e.clientY])},Ze=R(Dn(Le,de,W&&null!==qe?qe:ye,T,D,H,X),11),Je=Ze[0],Qe=Ze[1],Ue=Ze[2],et=Ze[3],tt=Ze[4],nt=Ze[5],rt=Ze[6],ot=Ze[7],it=Ze[8],at=Ze[9],ct=Ze[10],lt=function(t,n,r,o){return e.useMemo(function(){var e=Sn(null!=r?r:n),i=Sn(null!=o?o:n),a=new Set(e),c=new Set(i);return t&&(a.has("hover")&&(a.delete("hover"),a.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[a,c]},[t,n,r,o])}(ie,l,u,s),ut=R(lt,2),st=ut[0],ft=ut[1],pt=st.has("click"),vt=ft.has("click")||ft.has("contextMenu"),gt=ht(function(){Ie||ct()});!function(e,t,n,r,o){ae(function(){if(e&&t&&n){var i=n,a=On(t),c=On(i),l=kn(i),u=new Set([l].concat(oe(a),oe(c)));function s(){r(),o()}return u.forEach(function(e){e.addEventListener("scroll",s,{passive:!0})}),l.addEventListener("resize",s,{passive:!0}),r(),function(){u.forEach(function(e){e.removeEventListener("scroll",s),l.removeEventListener("resize",s)})}}},[e,t,n])}(Le,ye,de,gt,function(){Te.current&&W&&vt&&Ve(!1)}),ae(function(){gt()},[qe,T]),ae(function(){!Le||null!=D&&D[T]||gt()},[JSON.stringify(H)]);var yt=e.useMemo(function(){var e=function(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var c,l=i[a];if(Mn(null===(c=e[l])||void 0===c?void 0:c.points,o,r))return"".concat(t,"-placement-").concat(l)}return""}(D,i,at,W);return w(e,null==I?void 0:I(at))},[at,I,D,i,W]);e.useImperativeHandle(r,function(){return{nativeElement:we.current,popupElement:me.current,forceAlign:gt}});var wt=R(e.useState(0),2),Et=wt[0],xt=wt[1],_t=R(e.useState(0),2),St=_t[0],Mt=_t[1],Ct=function(){if(B&&ye){var e=ye.getBoundingClientRect();xt(e.width),Mt(e.height)}};function kt(e,t,n,r){Se[e]=function(o){var i;null==r||r(o),Ve(t,n);for(var a=arguments.length,c=new Array(a>1?a-1:0),l=1;l<a;l++)c[l-1]=arguments[l];null===(i=_e[e])||void 0===i||i.call.apply(i,[_e,o].concat(c))}}ae(function(){Ye&&(ct(),Ye(),Xe(null))},[Ye]),(pt||vt)&&(Se.onClick=function(e){var t;Te.current&&vt?Ve(!1):!Te.current&&pt&&(Ge(e),Ve(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=_e.onClick)||void 0===t||t.call.apply(t,[_e,e].concat(r))});var Ot,Nt,jt=function(t,n,r,o,i,a,c,l){var u=e.useRef(t);u.current=t;var s=e.useRef(!1);return e.useEffect(function(){if(n&&o&&(!i||a)){var e=function(){s.current=!1},t=function(e){var t;!u.current||c((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||s.current||l(!1)},f=kn(o);f.addEventListener("pointerdown",e,!0),f.addEventListener("mousedown",t,!0),f.addEventListener("contextmenu",t,!0);var p,d,v=mt(r);return v&&(v.addEventListener("mousedown",t,!0),v.addEventListener("contextmenu",t,!0)),"production"!==process.env.NODE_ENV&&A((null==r||null===(p=r.getRootNode)||void 0===p?void 0:p.call(r))===(null===(d=o.getRootNode)||void 0===d?void 0:d.call(o)),"trigger element and popup element should in same shadow root."),function(){f.removeEventListener("pointerdown",e,!0),f.removeEventListener("mousedown",t,!0),f.removeEventListener("contextmenu",t,!0),v&&(v.removeEventListener("mousedown",t,!0),v.removeEventListener("contextmenu",t,!0))}}},[n,r,o,i,a]),function(){s.current=!0}}(Le,vt,ye,de,E,_,Me,Ve),Rt=st.has("hover"),Lt=ft.has("hover");Rt&&(kt("onMouseEnter",!0,m,function(e){Ge(e)}),kt("onPointerEnter",!0,m,function(e){Ge(e)}),Ot=function(e){(Le||Ie)&&null!=de&&de.contains(e.target)&&Ve(!0,m)},W&&(Se.onMouseMove=function(e){var t;null===(t=_e.onMouseMove)||void 0===t||t.call(_e,e)})),Lt&&(kt("onMouseLeave",!1,g),kt("onPointerLeave",!1,g),Nt=function(){Ve(!1,g)}),st.has("focus")&&kt("onFocus",!0,y),ft.has("focus")&&kt("onBlur",!1,b),st.has("contextMenu")&&(Se.onContextMenu=function(e){var t;Te.current&&ft.has("contextMenu")?Ve(!1):(Ge(e),Ve(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=_e.onContextMenu)||void 0===t||t.call.apply(t,[_e,e].concat(r))}),U&&(Se.className=w(_e.className,U));var Pt=k(k({},_e),Se),Tt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach(function(e){te[e]&&(Tt[e]=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=Pt[e])||void 0===t||t.call.apply(t,[Pt].concat(r)),te[e].apply(te,r)})});var At=e.cloneElement(xe,k(k({},Pt),Tt)),zt={x:nt,y:rt},Dt=F?k({},!0!==F?F:{}):null;return e.createElement(e.Fragment,null,e.createElement(dt,{disabled:!Le,ref:Ee,onResize:function(){Ct(),gt()}},e.createElement(xn,{getTriggerDOMNode:ee},At)),e.createElement(_n.Provider,{value:se},e.createElement(En,{portal:t,ref:he,prefixCls:i,popup:j,className:w(L,yt),style:P,target:ye,onMouseEnter:Ot,onMouseLeave:Nt,onPointerEnter:Ot,zIndex:V,open:Le,keepDom:Ie,fresh:$,onClick:Y,onPointerDownCapture:jt,mask:E,motion:ke,maskMotion:Oe,onVisibleChanged:function(e){$e(!1),ct(),null==v||v(e)},onPrepare:function(){return new Promise(function(e){Ct(),Xe(function(){return e})})},forceRender:M,autoDestroy:ne,getPopupContainer:S,align:at,arrow:Dt,arrowPos:zt,ready:Je,offsetX:Qe,offsetY:Ue,offsetR:et,offsetB:tt,onAlign:gt,stretch:B,targetWidth:Et/ot,targetHeight:St/it})))});return"production"!==process.env.NODE_ENV&&(n.displayName="Trigger"),n}(Se),Bn={shiftX:64,adjustY:1},In={adjustX:1,shiftY:!0},$n=[0,0],Wn={left:{points:["cr","cl"],overflow:In,offset:[-4,0],targetOffset:$n},right:{points:["cl","cr"],overflow:In,offset:[4,0],targetOffset:$n},top:{points:["bc","tc"],overflow:Bn,offset:[0,-4],targetOffset:$n},bottom:{points:["tc","bc"],overflow:Bn,offset:[0,4],targetOffset:$n},topLeft:{points:["bl","tl"],overflow:Bn,offset:[0,-4],targetOffset:$n},leftTop:{points:["tr","tl"],overflow:In,offset:[-4,0],targetOffset:$n},topRight:{points:["br","tr"],overflow:Bn,offset:[0,-4],targetOffset:$n},rightTop:{points:["tl","tr"],overflow:In,offset:[4,0],targetOffset:$n},bottomRight:{points:["tr","br"],overflow:Bn,offset:[0,4],targetOffset:$n},rightBottom:{points:["bl","br"],overflow:In,offset:[4,0],targetOffset:$n},bottomLeft:{points:["tl","bl"],overflow:Bn,offset:[0,4],targetOffset:$n},leftBottom:{points:["br","bl"],overflow:In,offset:[-4,0],targetOffset:$n}},Yn=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],Xn=l(function(t,r){var o=t.overlayClassName,i=t.trigger,a=void 0===i?["hover"]:i,c=t.mouseEnterDelay,l=void 0===c?0:c,s=t.mouseLeaveDelay,f=void 0===s?.1:s,p=t.overlayStyle,d=t.prefixCls,v=void 0===d?"rc-tooltip":d,m=t.children,h=t.onVisibleChange,g=t.afterVisibleChange,y=t.transitionName,b=t.animation,_=t.motion,S=t.placement,M=void 0===S?"right":S,C=t.align,N=void 0===C?{}:C,j=t.destroyTooltipOnHide,R=void 0!==j&&j,L=t.defaultVisible,P=t.getTooltipContainer,T=t.overlayInnerStyle;t.arrowContent;var A=t.overlay,z=t.id,D=t.showArrow,H=void 0===D||D,V=t.classNames,B=t.styles,I=O(t,Yn),$=bt(z),W=n(null);u(r,function(){return W.current});var Y=k({},I);"visible"in t&&(Y.popupVisible=t.visible);var X,F;return e.createElement(Vn,x({popupClassName:w(o,null==V?void 0:V.root),prefixCls:v,popup:function(){return e.createElement(E,{key:"content",prefixCls:v,id:$,bodyClassName:null==V?void 0:V.body,overlayInnerStyle:k(k({},T),null==B?void 0:B.body)},A)},action:a,builtinPlacements:Wn,popupPlacement:M,ref:W,popupAlign:N,getPopupContainer:P,onPopupVisibleChange:h,afterPopupVisibleChange:g,popupTransitionName:y,popupAnimation:b,popupMotion:_,defaultPopupVisible:L,autoDestroy:R,mouseLeaveDelay:f,popupStyle:k(k({},p),null==B?void 0:B.root),mouseEnterDelay:l,arrow:H},Y),(X=e.Children.only(m),F=k(k({},(null==X?void 0:X.props)||{}),{},{"aria-describedby":A?$:null}),e.cloneElement(m,F)))}),Fn=e.forwardRef(function(t,n){var r=t.height,o=t.offsetY,i=t.offsetX,a=t.children,c=t.prefixCls,l=t.onInnerResize,u=t.innerProps,s=t.rtl,f=t.extra,p={},d={display:"flex",flexDirection:"column"};return void 0!==o&&(p={height:r,position:"relative",overflow:"hidden"},d=k(k({},d),{},M(M(M(M(M({transform:"translateY(".concat(o,"px)")},s?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),e.createElement("div",{style:p},e.createElement(dt,{onResize:function(e){e.offsetHeight&&l&&l()}},e.createElement("div",x({style:d,className:w(M({},"".concat(c,"-holder-inner"),c)),ref:n},u),a,f)))});function qn(t){var n=t.children,r=t.setRef,o=e.useCallback(function(e){r(e)},[]);return e.cloneElement(n,{ref:o})}function Kn(t,n,r){var o=R(e.useState(t),2),i=o[0],a=o[1],c=R(e.useState(null),2),l=c[0],u=c[1];return e.useEffect(function(){var e=function(e,t,n){var r,o,i=e.length,a=t.length;if(0===i&&0===a)return null;i<a?(r=e,o=t):(r=t,o=e);var c={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):c}for(var u=null,s=1!==Math.abs(i-a),f=0;f<o.length;f+=1){var p=l(r[f]);if(p!==l(o[f])){u=f,s=s||p!==l(o[f+1]);break}}return null===u?null:{index:u,multiple:s}}(i||[],t||[],n);void 0!==(null==e?void 0:e.index)&&(null==r||r(e.index),u(t[e.index])),a(t)},[t]),[l]}Fn.displayName="Filler";var Gn="object"===("undefined"==typeof navigator?"undefined":_(navigator))&&/Firefox/i.test(navigator.userAgent),Zn=function(e,t,r,o){var i=n(!1),a=n(null);var c=n({top:e,bottom:t,left:r,right:o});return c.current.top=e,c.current.bottom=t,c.current.left=r,c.current.right=o,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&c.current.left||t>0&&c.current.right:t<0&&c.current.top||t>0&&c.current.bottom;return n&&r?(clearTimeout(a.current),i.current=!1):r&&!i.current||(clearTimeout(a.current),i.current=!0,a.current=setTimeout(function(){i.current=!1},50)),!i.current&&r}};function Jn(e,t,r,o,i,a,c){var l=n(0),u=n(null),s=n(null),f=n(!1),p=Zn(t,r,o,i);var d=n(null),v=n(null);return[function(t){if(e){en.cancel(v.current),v.current=en(function(){d.current=null},2);var n=t.deltaX,r=t.deltaY,o=t.shiftKey,i=n,m=r;("sx"===d.current||!d.current&&o&&r&&!n)&&(i=r,m=0,d.current="sx");var h=Math.abs(i),g=Math.abs(m);null===d.current&&(d.current=a&&h>g?"x":"y"),"y"===d.current?function(e,t){if(en.cancel(u.current),!p(!1,t)){var n=e;n._virtualHandled||(n._virtualHandled=!0,l.current+=t,s.current=t,Gn||n.preventDefault(),u.current=en(function(){var e=f.current?10:1;c(l.current*e,!1),l.current=0}))}}(t,m):function(e,t){c(t,!0),Gn||e.preventDefault()}(t,i)}},function(t){e&&(f.current=t.detail===s.current)}]}var Qn=function(){function e(){et(this,e),M(this,"maps",void 0),M(this,"id",0),M(this,"diffRecords",new Map),this.maps=Object.create(null)}return nt(e,[{key:"set",value:function(e,t){this.diffRecords.set(e,this.maps[e]),this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),e}();function Un(e){var t=parseFloat(e);return isNaN(t)?0:t}var er=14/15;function tr(e){return Math.floor(Math.pow(e,.5))}function nr(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}var rr=e.forwardRef(function(t,n){var r=t.prefixCls,o=t.rtl,i=t.scrollOffset,a=t.scrollRange,c=t.onStartMove,l=t.onStopMove,u=t.onScroll,s=t.horizontal,f=t.spinSize,p=t.containerSize,d=t.style,v=t.thumbStyle,m=t.showScrollBar,h=R(e.useState(!1),2),g=h[0],y=h[1],b=R(e.useState(null),2),E=b[0],x=b[1],_=R(e.useState(null),2),S=_[0],C=_[1],O=!o,N=e.useRef(),j=e.useRef(),L=R(e.useState(m),2),P=L[0],T=L[1],A=e.useRef(),z=function(){!0!==m&&!1!==m&&(clearTimeout(A.current),T(!0),A.current=setTimeout(function(){T(!1)},3e3))},D=a-p||0,H=p-f||0,V=e.useMemo(function(){return 0===i||0===D?0:i/D*H},[i,D,H]),B=e.useRef({top:V,dragging:g,pageY:E,startTop:S});B.current={top:V,dragging:g,pageY:E,startTop:S};var I=function(e){y(!0),x(nr(e,s)),C(B.current.top),c(),e.stopPropagation(),e.preventDefault()};e.useEffect(function(){var e=function(e){e.preventDefault()},t=N.current,n=j.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",I,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",I)}},[]);var $=e.useRef();$.current=D;var W=e.useRef();W.current=H,e.useEffect(function(){if(g){var e,t=function(t){var n=B.current,r=n.dragging,o=n.pageY,i=n.startTop;en.cancel(e);var a=N.current.getBoundingClientRect(),c=p/(s?a.width:a.height);if(r){var l=(nr(t,s)-o)*c,f=i;!O&&s?f-=l:f+=l;var d=$.current,v=W.current,m=v?f/v:0,h=Math.ceil(m*d);h=Math.max(h,0),h=Math.min(h,d),e=en(function(){u(h,s)})}},n=function(){y(!1),l()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),en.cancel(e)}}},[g]),e.useEffect(function(){return z(),function(){clearTimeout(A.current)}},[i]),e.useImperativeHandle(n,function(){return{delayHidden:z}});var Y="".concat(r,"-scrollbar"),X={position:"absolute",visibility:P?null:"hidden"},F={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return s?(Object.assign(X,{height:8,left:0,right:0,bottom:0}),Object.assign(F,M({height:"100%",width:f},O?"left":"right",V))):(Object.assign(X,M({width:8,top:0,bottom:0},O?"right":"left",0)),Object.assign(F,{width:"100%",height:f,top:V})),e.createElement("div",{ref:N,className:w(Y,M(M(M({},"".concat(Y,"-horizontal"),s),"".concat(Y,"-vertical"),!s),"".concat(Y,"-visible"),P)),style:k(k({},X),d),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:z},e.createElement("div",{ref:j,className:w("".concat(Y,"-thumb"),M({},"".concat(Y,"-thumb-moving"),g)),style:k(k({},F),v),onMouseDown:I}))});"production"!==process.env.NODE_ENV&&(rr.displayName="ScrollBar");function or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,20),Math.floor(t)}var ir=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],ar=[],cr={overflowY:"auto",overflowAnchor:"none"};function lr(t,i){var a=t.prefixCls,c=void 0===a?"rc-virtual-list":a,l=t.className,u=t.height,s=t.itemHeight,f=t.fullHeight,p=void 0===f||f,v=t.style,m=t.data,h=t.children,g=t.itemKey,y=t.virtual,b=t.direction,E=t.scrollWidth,S=t.component,C=void 0===S?"div":S,N=t.onScroll,j=t.onVirtualScroll,L=t.onVisibleChange,P=t.innerProps,T=t.extraRender,A=t.styles,z=t.showScrollBar,D=void 0===z?"optional":z,V=O(t,ir),B=e.useCallback(function(e){return"function"==typeof g?g(e):null==e?void 0:e[g]},[g]),I=function(t,o,i){var a=R(e.useState(0),2),c=a[0],l=a[1],u=n(new Map),s=n(new Qn),f=n(0);function p(){f.current+=1}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p();var t=function(){var e=!1;u.current.forEach(function(t,n){if(t&&t.offsetParent){var r=t.offsetHeight,o=getComputedStyle(t),i=o.marginTop,a=o.marginBottom,c=r+Un(i)+Un(a);s.current.get(n)!==c&&(s.current.set(n,c),e=!0)}}),e&&l(function(e){return e+1})};if(e)t();else{f.current+=1;var n=f.current;Promise.resolve().then(function(){n===f.current&&t()})}}return r(function(){return p},[]),[function(e,n){var r=t(e),a=u.current.get(r);n?(u.current.set(r,n),d()):u.current.delete(r),!a!=!n&&(n?null==o||o(e):null==i||i(e))},d,s.current,c]}(B,null,null),$=R(I,4),W=$[0],Y=$[1],X=$[2],F=$[3],q=!(!1===y||!u||!s),K=e.useMemo(function(){return Object.values(X.maps).reduce(function(e,t){return e+t},0)},[X.id,X.maps]),G=q&&m&&(Math.max(s*m.length,K)>u||!!E),Z="rtl"===b,J=w(c,M({},"".concat(c,"-rtl"),Z),l),Q=m||ar,U=n(),ee=n(),te=n(),ne=R(o(0),2),re=ne[0],oe=ne[1],ie=R(o(0),2),ce=ie[0],le=ie[1],ue=R(o(!1),2),se=ue[0],fe=ue[1],pe=function(){fe(!0)},de=function(){fe(!1)},ve={getKey:B};function me(e){oe(function(t){var n=function(e){var t=e;Number.isNaN(Le.current)||(t=Math.min(t,Le.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return U.current.scrollTop=n,n})}var he=n({start:0,end:Q.length}),ge=n(),ye=R(Kn(Q,B),1)[0];ge.current=ye;var be=e.useMemo(function(){if(!q)return{scrollHeight:void 0,start:0,end:Q.length-1,offset:void 0};var e;if(!G)return{scrollHeight:(null===(e=ee.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:Q.length-1,offset:void 0};for(var t,n,r,o=0,i=Q.length,a=0;a<i;a+=1){var c=Q[a],l=B(c),f=X.get(l),p=o+(void 0===f?s:f);p>=re&&void 0===t&&(t=a,n=o),p>re+u&&void 0===r&&(r=a),o=p}return void 0===t&&(t=0,n=0,r=Math.ceil(u/s)),void 0===r&&(r=Q.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,Q.length-1),offset:n}},[G,q,re,Q,F,u]),we=be.scrollHeight,Ee=be.start,xe=be.end,_e=be.offset;he.current.start=Ee,he.current.end=xe,e.useLayoutEffect(function(){var e=X.getRecord();if(1===e.size){var t=Array.from(e.keys())[0],n=e.get(t),r=Q[Ee];if(r&&void 0===n)if(B(r)===t){var o=X.get(t)-s;me(function(e){return e+o})}}X.resetRecord()},[we]);var Se=R(e.useState({width:0,height:u}),2),Me=Se[0],Ce=Se[1],ke=n(),Oe=n(),Ne=e.useMemo(function(){return or(Me.width,E)},[Me.width,E]),je=e.useMemo(function(){return or(Me.height,we)},[Me.height,we]),Re=we-u,Le=n(Re);Le.current=Re;var Pe=re<=0,Te=re>=Re,Ae=ce<=0,ze=ce>=E,De=Zn(Pe,Te,Ae,ze),He=function(){return{x:Z?-ce:ce,y:re}},Ve=n(He()),Be=ht(function(e){if(j){var t=k(k({},He()),e);Ve.current.x===t.x&&Ve.current.y===t.y||(j(t),Ve.current=t)}});function Ie(e,t){var n=e;t?(d(function(){le(n)}),Be()):me(n)}var $e=function(e){var t=e,n=E?E-Me.width:0;return t=Math.max(t,0),t=Math.min(t,n)},We=ht(function(e,t){t?(d(function(){le(function(t){return $e(t+(Z?-e:e))})}),Be()):me(function(t){return t+e})}),Ye=R(Jn(q,Pe,Te,Ae,ze,!!E,We),2),Xe=Ye[0],Fe=Ye[1];!function(e,t,r){var o,i=n(!1),a=n(0),c=n(0),l=n(null),u=n(null),s=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageX),n=Math.ceil(e.touches[0].pageY),o=a.current-t,l=c.current-n,s=Math.abs(o)>Math.abs(l);s?a.current=t:c.current=n;var f=r(s,s?o:l,!1,e);f&&e.preventDefault(),clearInterval(u.current),f&&(u.current=setInterval(function(){s?o*=er:l*=er;var e=Math.floor(s?o:l);(!r(s,e,!0)||Math.abs(e)<=.1)&&clearInterval(u.current)},16))}},f=function(){i.current=!1,o()},p=function(e){o(),1!==e.touches.length||i.current||(i.current=!0,a.current=Math.ceil(e.touches[0].pageX),c.current=Math.ceil(e.touches[0].pageY),l.current=e.target,l.current.addEventListener("touchmove",s,{passive:!1}),l.current.addEventListener("touchend",f,{passive:!0}))};o=function(){l.current&&(l.current.removeEventListener("touchmove",s),l.current.removeEventListener("touchend",f))},ae(function(){return e&&t.current.addEventListener("touchstart",p,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",p),o(),clearInterval(u.current)}},[e])}(q,U,function(e,t,n,r){var o=r;return!De(e,t,n)&&((!o||!o._virtualHandled)&&(o&&(o._virtualHandled=!0),Xe({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0))}),function(t,n,r){e.useEffect(function(){var e=n.current;if(t&&e){var o,i,a=!1,c=function(){en.cancel(o)},l=function e(){c(),o=en(function(){r(i),e()})},u=function(e){if(!e.target.draggable&&0===e.button){var t=e;t._virtualHandled||(t._virtualHandled=!0,a=!0)}},s=function(){a=!1,c()},f=function(t){if(a){var n=nr(t,!1),r=e.getBoundingClientRect(),o=r.top,u=r.bottom;n<=o?(i=-tr(o-n),l()):n>=u?(i=tr(n-u),l()):c()}};return e.addEventListener("mousedown",u),e.ownerDocument.addEventListener("mouseup",s),e.ownerDocument.addEventListener("mousemove",f),function(){e.removeEventListener("mousedown",u),e.ownerDocument.removeEventListener("mouseup",s),e.ownerDocument.removeEventListener("mousemove",f),c()}}},[t])}(G,U,function(e){me(function(t){return t+e})}),ae(function(){function e(e){var t=Pe&&e.detail<0,n=Te&&e.detail>0;!q||t||n||e.preventDefault()}var t=U.current;return t.addEventListener("wheel",Xe,{passive:!1}),t.addEventListener("DOMMouseScroll",Fe,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",Xe),t.removeEventListener("DOMMouseScroll",Fe),t.removeEventListener("MozMousePixelScroll",e)}},[q,Pe,Te]),ae(function(){if(E){var e=$e(ce);le(e),Be({x:e})}},[Me.width,E]);var qe=function(){var e,t;null===(e=ke.current)||void 0===e||e.delayHidden(),null===(t=Oe.current)||void 0===t||t.delayHidden()},Ke=function(t,n,r,o,i,a,c,l){var u=e.useRef(),s=R(e.useState(null),2),f=s[0],p=s[1];return ae(function(){if(f&&f.times<10){if(!t.current)return void p(function(e){return k({},e)});a();var e=f.targetAlign,l=f.originAlign,u=f.index,s=f.offset,d=t.current.clientHeight,v=!1,m=e,h=null;if(d){for(var g=e||l,y=0,b=0,w=0,E=Math.min(n.length-1,u),x=0;x<=E;x+=1){var _=i(n[x]);b=y;var S=r.get(_);y=w=b+(void 0===S?o:S)}for(var M="top"===g?s:d-s,C=E;C>=0;C-=1){var O=i(n[C]),N=r.get(O);if(void 0===N){v=!0;break}if((M-=N)<=0)break}switch(g){case"top":h=b-s;break;case"bottom":h=w-d+s;break;default:var j=t.current.scrollTop;b<j?m="top":w>j+d&&(m="bottom")}null!==h&&c(h),h!==f.lastTop&&(v=!0)}v&&p(k(k({},f),{},{times:f.times+1,targetAlign:m,lastTop:h}))}else"production"!==process.env.NODE_ENV&&10===(null==f?void 0:f.times)&&H(!1,"Seems `scrollTo` with `rc-virtual-list` reach the max limitation. Please fire issue for us. Thanks.")},[f,t.current]),function(e){if(null!=e){if(en.cancel(u.current),"number"==typeof e)c(e);else if(e&&"object"===_(e)){var t,r=e.align;t="index"in e?e.index:n.findIndex(function(t){return i(t)===e.key});var o=e.offset;p({times:0,index:t,offset:void 0===o?0:o,originAlign:r})}}else l()}}(U,Q,X,s,B,function(){return Y(!0)},me,qe);e.useImperativeHandle(i,function(){return{nativeElement:te.current,getScrollInfo:He,scrollTo:function(e){var t;(t=e)&&"object"===_(t)&&("left"in t||"top"in t)?(void 0!==e.left&&le($e(e.left)),Ke(e.top)):Ke(e)}}}),ae(function(){if(L){var e=Q.slice(Ee,xe+1);L(e,Q)}},[Ee,xe,Q]);var Ge=function(t,n,r,o){var i=R(e.useMemo(function(){return[new Map,[]]},[t,r.id,o]),2),a=i[0],c=i[1];return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,l=a.get(e),u=a.get(i);if(void 0===l||void 0===u)for(var s=t.length,f=c.length;f<s;f+=1){var p,d=t[f],v=n(d);a.set(v,f);var m=null!==(p=r.get(v))&&void 0!==p?p:o;if(c[f]=(c[f-1]||0)+m,v===e&&(l=f),v===i&&(u=f),void 0!==l&&void 0!==u)break}return{top:c[l-1]||0,bottom:c[u]}}}(Q,B,X,s),Ze=null==T?void 0:T({start:Ee,end:xe,virtual:G,offsetX:ce,offsetY:_e,rtl:Z,getSize:Ge}),Je=function(t,n,r,o,i,a,c,l){var u=l.getKey;return t.slice(n,r+1).map(function(t,r){var l=c(t,n+r,{style:{width:o},offsetX:i}),s=u(t);return e.createElement(qn,{key:s,setRef:function(e){return a(t,e)}},l)})}(Q,Ee,xe,E,ce,W,h,ve),Qe=null;u&&(Qe=k(M({},p?"height":"maxHeight",u),cr),q&&(Qe.overflowY="hidden",E&&(Qe.overflowX="hidden"),se&&(Qe.pointerEvents="none")));var Ue={};return Z&&(Ue.dir="rtl"),e.createElement("div",x({ref:te,style:k(k({},v),{},{position:"relative"}),className:J},Ue,V),e.createElement(dt,{onResize:function(e){Ce({width:e.offsetWidth,height:e.offsetHeight})}},e.createElement(C,{className:"".concat(c,"-holder"),style:Qe,ref:U,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==re&&me(t),null==N||N(e),Be()},onMouseEnter:qe},e.createElement(Fn,{prefixCls:c,height:we,offsetX:ce,offsetY:_e,scrollWidth:E,onInnerResize:Y,ref:ee,innerProps:P,rtl:Z,extra:Ze},Je))),G&&we>u&&e.createElement(rr,{ref:ke,prefixCls:c,scrollOffset:re,scrollRange:we,rtl:Z,onScroll:Ie,onStartMove:pe,onStopMove:de,spinSize:je,containerSize:Me.height,style:null==A?void 0:A.verticalScrollBar,thumbStyle:null==A?void 0:A.verticalScrollBarThumb,showScrollBar:D}),G&&E>Me.width&&e.createElement(rr,{ref:Oe,prefixCls:c,scrollOffset:ce,scrollRange:E,rtl:Z,onScroll:Ie,onStartMove:pe,onStopMove:de,spinSize:Ne,containerSize:Me.width,horizontal:!0,style:null==A?void 0:A.horizontalScrollBar,thumbStyle:null==A?void 0:A.horizontalScrollBarThumb,showScrollBar:D}))}var ur=e.forwardRef(lr);function sr(e){const{data:i,cellSize:a,height:c,onSelect:l}=e,[u,s]=o([]),f=n();r(()=>{const e=Math.floor(f.current.clientWidth/a);if(e>0){const t=Math.ceil(i.length/e),n=Array(t).fill(0).map((e,t)=>({id:t}));s(n)}},[a,i]),r(()=>{console.timeEnd("tab-change")},[u]);const p=({id:e})=>{const n=Math.floor(f.current.clientWidth/a);let r=e*n,o=(e+1)*n;const c=[];for(;r<i.length&&!(r>=o);r++){const e=i[r];c.push(t.createElement(fr,{key:e.name,data:e,onSelect:l}))}return c.push(...[...Array(n-c.length)].map(e=>t.createElement("div",{className:"emoji_item_hidden"}))),t.createElement("div",{className:"emoji-rows"},c)};return t.createElement("div",{className:"emoji_container",ref:f},t.createElement(ur,{data:u,itemHeight:a,height:c,showScrollBar:!1,itemKey:"id"},p))}function fr(e){const{data:n,onSelect:r}=e,[i,a]=o(!1),[c,l]=o(!1),u=function(){let e=null,t=!1;return(n,r,o)=>{t=!1,e=setTimeout(()=>{t=!0,n.preventDefault(),o(n)},r);const i=n.currentTarget||n.target,a=n=>{clearTimeout(e),t&&n.preventDefault()};i.addEventListener("touchmove",a,{once:!0,passive:!1}),i.addEventListener("touchend",a,{once:!0,passive:!1})}}(),s=function(){let e=null,t=!1;return({event:n,duration:r,callback:o,cancelCallback:i})=>{t=!1,e=setTimeout(()=>{t=!0,n.preventDefault(),o(n)},r),(n.currentTarget||n.target).addEventListener("mouseleave",n=>{clearTimeout(e),i(),t&&n.preventDefault()},{once:!0,passive:!1})}}(),f=navigator.maxTouchPoints>=1;function p(e,t=[]){const n=[...e.unicode,...t].map(e=>e.replace("U+","0x")),o=String.fromCodePoint(...n);e.unicode,e.htmlCode,r(o),a(!1),l(!1)}return t.createElement(Xn,{visible:i||c,showArrow:!1,overlay:(e=>{const{htmlCode:n,htmlSkin:r,unicodeSkin:o}=e;return r?t.createElement("div",{className:"emoji_skin_group",onMouseOver:()=>{l(!0)},onMouseLeave:()=>{l(!1)}},Object.keys(r).map(i=>{const a=r[i],c=o[i];return t.createElement("div",{key:i,className:"emoji_item",dangerouslySetInnerHTML:{__html:n.join("")+a},onClick:()=>{p(e,[c])}})})):null})(n),placement:"top",getTooltipContainer:e=>e.parentElement,zIndex:999,styles:{root:{opacity:1,background:"transparent"},body:{border:"1px solid #f1f4f7",borderRadius:"10px",padding:"4px"}}},t.createElement("div",{tabIndex:-1,onBlurCapture:()=>{a(!1),l(!1)},className:"emoji_item "+(i?"emoji_active":""),dangerouslySetInnerHTML:{__html:n.htmlCode.join("")},onClick:e=>{p(n)},onMouseEnter:e=>{n.htmlSkin&&!f&&s({event:e,duration:500,callback:()=>{a(!0)},cancelCallback:()=>{setTimeout(()=>{a(!1)},100)}})},onTouchStart:e=>{if(n.htmlSkin){(e.currentTarget||e.target).focus(),u(e,500,()=>{a(!0)})}}}))}function pr(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}ur.displayName="List";pr(".emoji_select{--cell-size:40px;--gap:10px;--width:280px;--height:200px;--highlight:#ddd;border:1px solid #ddd;border-radius:8px;font-family:apple color emoji,segoe ui emoji,noto color emoji,android emoji,emojisymbols,emojione mozilla,twemoji mozilla,segoe ui symbol,Noto Color Emoji Compat,emoji,sans-serif;max-height:600px;padding:10px;touch-action:none;width:var(--width)}.emoji_select .emoji_category_swiper{-webkit-overflow-scrolling:touch;overflow:hidden;overflow-x:scroll;overflow-y:hidden;position:relative;width:var(--width)}.emoji_select .emoji_category_swiper .emoji_sliding_block{background-color:var(--highlight);border-radius:10px;position:absolute;top:0;transition:all .3s;z-index:1}.emoji_select .emoji_category_swiper::-webkit-scrollbar{display:none}.emoji_select .emoji_category_swiper .emoji_category_container{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;gap:var(--gap);height:32px;margin-bottom:10px;position:relative;z-index:2}.emoji_select .emoji_category_swiper .emoji_category_container .emoji_category_item{border-radius:6px;cursor:pointer;font-size:18px;padding:4px 6px;-webkit-user-select:none;user-select:none;white-space:nowrap}.emoji_select .emoji_container{max-height:var(--height);overflow-x:hidden;overflow-y:scroll;width:var(--width)}.emoji_select .emoji_container .emoji-rows{display:flex;justify-content:space-between}.emoji_select .emoji_container .emoji_item{cursor:pointer;flex-shrink:0;font-size:calc(var(--cell-size)*.625);height:var(--cell-size);text-align:center;-webkit-user-select:none;user-select:none;width:var(--cell-size)}.emoji_select .emoji_container .emoji_item:hover{background-color:var(--highlight);border-radius:6px}.emoji_select .emoji_container .emoji_item_hidden{flex-shrink:0;height:var(--cell-size);width:var(--cell-size)}.emoji_select .emoji_container .emoji_active{background-color:var(--highlight);border-radius:6px}.emoji_select .emoji_container .emoji_skin_group{display:flex;font-size:calc(var(--cell-size)*.625);gap:4px}.emoji_select .emoji_container .ant-popover-inner{padding:6px}.emoji_select .emoji_container::-webkit-scrollbar{display:none}");function dr(){return new Promise((e,t)=>{let n=[];const r=localStorage.getItem("emoji_data");r?(n=JSON.parse(r),e(n)):fetch("https://emojihub.yurace.pro/api/all").then(t=>{200===t.status?t.json().then(t=>{e(function(e){const t={},n=[];e.forEach(e=>{Object.keys(t).includes(e.category)||(n.push(e.category),Object.assign(t,{[e.category]:[]}));const r=vr[e.htmlCode[1]];if(e.htmlCode.length>1&&r){const n=t[e.category].find(t=>t.htmlCode[0]===e.htmlCode[0]);n&&(n.htmlSkin?n.htmlSkin[r]=e.htmlCode[1]:n.htmlSkin={[r]:e.htmlCode[1]},n.unicodeSkin?n.unicodeSkin[r]=e.unicode[1]:n.unicodeSkin={[r]:e.unicode[1]})}else t[e.category].push(e)});const r={category:n,maps:t};return localStorage.setItem("emoji_data",JSON.stringify(r)),r}(t))}):e({category:[],maps:{}})})})}pr(".rc-tooltip.rc-tooltip-zoom-appear,.rc-tooltip.rc-tooltip-zoom-enter{opacity:0}.rc-tooltip.rc-tooltip-zoom-enter,.rc-tooltip.rc-tooltip-zoom-leave{display:block}.rc-tooltip-zoom-appear,.rc-tooltip-zoom-enter{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused;animation-timing-function:cubic-bezier(.18,.89,.32,1.28);opacity:0}.rc-tooltip-zoom-leave{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused;animation-timing-function:cubic-bezier(.6,-.3,.74,.05)}.rc-tooltip-zoom-appear.rc-tooltip-zoom-appear-active,.rc-tooltip-zoom-enter.rc-tooltip-zoom-enter-active{animation-name:rcToolTipZoomIn;animation-play-state:running}.rc-tooltip-zoom-leave.rc-tooltip-zoom-leave-active{animation-name:rcToolTipZoomOut;animation-play-state:running}@keyframes rcToolTipZoomIn{0%{opacity:0;transform:scale(0);transform-origin:50% 50%}to{opacity:1;transform:scale(1);transform-origin:50% 50%}}@keyframes rcToolTipZoomOut{0%{opacity:1;transform:scale(1);transform-origin:50% 50%}to{opacity:0;transform:scale(0);transform-origin:50% 50%}}.rc-tooltip{background-color:#0000000d;display:block;font-size:12px;line-height:1.5;opacity:.9;padding:1px;position:absolute;visibility:visible;z-index:1070}.rc-tooltip-hidden{display:none}.rc-tooltip-inner{background-color:#fff;border:1px solid #b1b1b1;border-radius:3px;color:#333;min-height:34px;padding:8px 10px;text-align:left;text-decoration:none}.rc-tooltip-arrow,.rc-tooltip-arrow-inner{border-color:#0000;border-style:solid;height:0;position:absolute;width:0}.rc-tooltip-placement-top .rc-tooltip-arrow,.rc-tooltip-placement-topLeft .rc-tooltip-arrow,.rc-tooltip-placement-topRight .rc-tooltip-arrow{border-top-color:#b1b1b1;border-width:6px 6px 0;margin-left:-6px;transform:translate(-50%,5px)}.rc-tooltip-placement-top .rc-tooltip-arrow-inner,.rc-tooltip-placement-topLeft .rc-tooltip-arrow-inner,.rc-tooltip-placement-topRight .rc-tooltip-arrow-inner{border-top-color:#fff;border-width:6px 6px 0;bottom:1px;margin-left:-6px}.rc-tooltip-placement-top .rc-tooltip-arrow{left:50%}.rc-tooltip-placement-topLeft .rc-tooltip-arrow{left:15%}.rc-tooltip-placement-topRight .rc-tooltip-arrow{right:15%}.rc-tooltip-placement-right .rc-tooltip-arrow,.rc-tooltip-placement-rightBottom .rc-tooltip-arrow,.rc-tooltip-placement-rightTop .rc-tooltip-arrow{border-right-color:#b1b1b1;border-width:6px 6px 6px 0;left:-5px;margin-top:-6px;transform:translateX(calc(-100% + 1px))}.rc-tooltip-placement-right .rc-tooltip-arrow-inner,.rc-tooltip-placement-rightBottom .rc-tooltip-arrow-inner,.rc-tooltip-placement-rightTop .rc-tooltip-arrow-inner{border-right-color:#fff;border-width:6px 6px 6px 0;left:1px;margin-top:-6px}.rc-tooltip-placement-right .rc-tooltip-arrow{top:50%}.rc-tooltip-placement-rightTop .rc-tooltip-arrow{margin-top:0;top:15%}.rc-tooltip-placement-rightBottom .rc-tooltip-arrow{bottom:15%}.rc-tooltip-placement-left .rc-tooltip-arrow,.rc-tooltip-placement-leftBottom .rc-tooltip-arrow,.rc-tooltip-placement-leftTop .rc-tooltip-arrow{border-left-color:#b1b1b1;border-width:6px 0 6px 6px;margin-top:-6px;right:-5px;transform:translateX(calc(100% - 1px))}.rc-tooltip-placement-left .rc-tooltip-arrow-inner,.rc-tooltip-placement-leftBottom .rc-tooltip-arrow-inner,.rc-tooltip-placement-leftTop .rc-tooltip-arrow-inner{border-left-color:#fff;border-width:6px 0 6px 6px;margin-top:-6px;right:1px}.rc-tooltip-placement-left .rc-tooltip-arrow{top:50%}.rc-tooltip-placement-leftTop .rc-tooltip-arrow{margin-top:0;top:15%}.rc-tooltip-placement-leftBottom .rc-tooltip-arrow{bottom:15%}.rc-tooltip-placement-bottom .rc-tooltip-arrow,.rc-tooltip-placement-bottomLeft .rc-tooltip-arrow,.rc-tooltip-placement-bottomRight .rc-tooltip-arrow{border-bottom-color:#b1b1b1;border-width:0 6px 6px;margin-left:-6px;transform:translate(-50%,-5px)}.rc-tooltip-placement-bottom .rc-tooltip-arrow-inner,.rc-tooltip-placement-bottomLeft .rc-tooltip-arrow-inner,.rc-tooltip-placement-bottomRight .rc-tooltip-arrow-inner{border-bottom-color:#fff;border-width:0 6px 6px;margin-left:-6px;top:1px}.rc-tooltip-placement-bottom .rc-tooltip-arrow{left:50%}.rc-tooltip-placement-bottomLeft .rc-tooltip-arrow{left:15%}.rc-tooltip-placement-bottomRight .rc-tooltip-arrow{right:15%}");let vr={"&#127999;":"Dark","&#127998;":"Medium_Dark:","&#127997;":"Medium","&#127996;":"Medium_Light","&#127995;":"Light"};function mr(e,t){if("number"==typeof e)return e+"px";if("string"==typeof e){const t=Number(e);return isNaN(t)?e:t+"px"}return t}const hr={width:400,height:220,gap:10,cellSize:40,direction:"top"};var gr=e=>{const{onSelect:n,categoryNames:i,layout:a={}}=e,[c,l]=o({}),[u,f]=o([]),[p,d]=o(""),m=s(()=>({...hr,...a}),[a]),h=s(()=>{const{gap:e=10,cellSize:t=40,width:n,height:r,highlight:o="#ddd"}=m;return{"--cell-size":mr(t,"40px"),"--gap":mr(e,"10px"),"--width":mr(n,"400px"),"--height":mr(r,"220px"),"--highlight":o}},[m]);return r(()=>{!async function(){const e=await dr();f(e.category),d(e.category[0]),l(e.maps)}()},[]),t.createElement("div",{className:"emoji_select",style:{...h}},t.createElement(v,{category:u,gap:m.gap,categoryNames:i||u,value:p,onChange:e=>{d(e)}}),t.createElement(sr,{cellSize:m.cellSize,height:m.height,data:c[p]||[],onSelect:n}))};export{gr as default};
